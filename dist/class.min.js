dom.define("class","lang",function(){function i(a,d){"extend,implement".replace(dom.rword,function(b){var c=d[b];if(j[dom.type(c)]){a[b].apply(a,[].concat(c));delete d[b]}});return a}function k(){var a=this.options=dom.Object.merge.apply(this.options||{},arguments),d,b;if(typeof this.bind=="function")for(d in a)if(b=d.match(l)){this.bind(b[1].toLowerCase(),a[d]);delete a[d]}return this}function m(){var a=arguments.callee.caller,d=a._name,b=a._class[f];if(b&&b[e][d])return b[e][d].apply(this,arguments.length?
arguments:a.arguments);else throw d+" no super method!";}var e="prototype",f="_super",n=dom.oneObject([f,e,"extend","implement","_class"]),o=RegExp([f,"@init|constructor"].join("|")),l=/on([A-Z][A-Za-z]+)/,j=dom.oneObject("Object,Array,Function");dom["@class"]={inherit:function(a,d){var b=function(){};if(typeof a=="function"){for(var c in a)this[c]=a[c];b[e]=a[e];this[e]=new b;this[f]=a}this["@init"]=(this["@init"]||[]).concat();d&&this["@init"].push(d);this.toString=function(){return(d||b)+""};c=
this[e];c.setOptions=k;c[f]=m;return c.constructor=this},implement:function(){for(var a=this[e],d=0,b;b=arguments[d++];){b=typeof b==="function"?new b:b;Object.keys(b).forEach(function(c){if(!o.test(c)){var g=a[c]=b[c];if(typeof g=="function"){g._name=c;g._class=this}}},this)}return this},extend:function(){for(var a={},d=0,b;b=arguments[d++];)dom.mix(a,b);for(var c in a)n[c]||(this[c]=a[c]);return this}};dom.factory=function(a){a=a||{};var d=a.inherit,b=a.init;delete a.inherit;delete a.init;var c=
function(){for(var g=0,h;h=c["@init"][g++];)h.apply(this,arguments)};dom.mix(c,dom["@class"]).inherit(d,b);return i(c,a).implement(a)}});
